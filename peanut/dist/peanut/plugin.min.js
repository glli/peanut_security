(()=>{let n=("undefined"!=typeof globalThis?globalThis:void 0)?.crypto||("undefined"!=typeof global?global:void 0)?.crypto||("undefined"!=typeof window?window:void 0)?.crypto||("undefined"!=typeof self?self:void 0)?.crypto||("undefined"!=typeof frames?frames:void 0)?.[0]?.crypto,R;R=n?t=>{var r=[];for(let e=0;e<t;e+=4)r.push(n.getRandomValues(new Uint32Array(1))[0]);return new w(r,t)}:t=>{var r=[];let n;for(let e=0;e<t;e+=4){var s=(e=>{let t=e,r=987654321,n=4294967295;return()=>{r=36969*(65535&r)+(r>>16)&n,t=18e3*(65535&t)+(t>>16)&n;var e=(r<<16)+t&n;return(e/4294967296+.5)*(.5<Math.random()?1:-1)}})(4294967296*(n||Math.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new w(r,t)};var e=class{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){var e=new this.constructor;return Object.assign(e,this),e}},w=class extends e{words;sigBytes;constructor(t=[],e){var r;if(super(),t instanceof ArrayBuffer)r=new Uint8Array(t),this._initFromUint8Array(r);else if(ArrayBuffer.isView(t)){let e;e=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),void this._initFromUint8Array(e)}else this.words=t,this.sigBytes=void 0!==e?e:4*this.words.length}_initFromUint8Array(t){var r=t.byteLength,n=[];for(let e=0;e<r;e+=1)n[e>>>2]|=t[e]<<24-e%4*8;this.words=n,this.sigBytes=r}static random=R;toString(e=a){return e.stringify(this)}concat(e){var t=this.words,r=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(let e=0;e<s;e+=1){var i=r[e>>>2]>>>24-e%4*8&255;t[n+e>>>2]|=i<<24-(n+e)%4*8}else for(let e=0;e<s;e+=4)t[n+e>>>2]=r[e>>>2];return this.sigBytes+=s,this}clamp(){var{words:e,sigBytes:t}=this;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){var e=super.clone();return e.words=this.words.slice(0),e}};let a={stringify(e){var{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){var s=t[e>>>2]>>>24-e%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse(t){var r=t.length,n=[];for(let e=0;e<r;e+=2)n[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new w(n,r/2)}},N={stringify(e){var{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){var s=t[e>>>2]>>>24-e%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse(t){var r=t.length,n=[];for(let e=0;e<r;e+=1)n[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new w(n,r)}},c={stringify(e){try{return decodeURIComponent(escape(N.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse(e){return N.parse(unescape(encodeURIComponent(e)))}},I=class extends e{_minBufferSize=0;_data;_nDataBytes;constructor(){super()}reset(){this._data=new w,this._nDataBytes=0}_append(e){let t;t="string"==typeof e?c.parse(e):e,this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t;var r=this._data,n=r.words,s=r.sigBytes;let i=s/(4*this.blockSize);var o=(i=e?Math.ceil(i):Math.max((0|i)-this._minBufferSize,0))*this.blockSize,e=Math.min(4*o,s);if(o){for(let e=0;e<o;e+=this.blockSize)this._doProcessBlock(n,e);t=n.splice(0,o),r.sigBytes-=e}return new w(t||[],e)}clone(){var e=super.clone();return e._data=this._data.clone(),e}},t=class extends I{blockSize=16;cfg;_hash;constructor(e){super(),this.cfg=Object.assign({},e),this.reset()}static _createHelper(r){return(e,t)=>new r(t).finalize(e)}static _createHmacHelper(r){return(e,t)=>new g(r,t).finalize(e)}reset(){super.reset(),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}},T=class extends t{},q=class extends t{};var g=class g extends e{_hasher;_oKey;_iKey;constructor(e,t){super();e=new e;this._hasher=e;let r;r="string"==typeof t?c.parse(t):t;var n=e.blockSize,t=4*n,e=((r=r.sigBytes>t?e.finalize(r):r).clamp(),r.clone()),s=(this._oKey=e,r.clone()),i=(this._iKey=s,e.words),o=s.words;for(let e=0;e<n;e+=1)i[e]^=1549556828,o[e]^=909522486;e.sigBytes=t,s.sigBytes=t,this.reset()}static create(...e){var[e,t]=e;return new g(e,t)}reset(){var e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){var t=this._hasher,e=t.finalize(e),t=(t.reset(),t.finalize(this._oKey.clone().concat(e)));return t}},s=class extends e{high;low;constructor(e=0,t=0){super(),this.high=e,this.low=t}clone(){var e=super.clone();return e.high=this.high,e.low=this.low,e}},r=class r extends e{words;sigBytes;constructor(e=[],t=8*e.length){super(),this.words=e,this.sigBytes=t}static create(...e){var[e,t]=e;return new r(e,t)}toX32(){var t=this.words,r=t.length,n=[];for(let e=0;e<r;e+=1){var s=t[e];n.push(s.high),n.push(s.low)}return w.create(n,this.sigBytes)}clone(){var e=super.clone(),t=(e.words=this.words.slice(0),e).words,r=t.length;for(let e=0;e<r;e+=1)t[e]=t[e].clone();return e}};let j=class{_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";_reverseMap;stringify(e){var{words:r,sigBytes:n}=e,s=this._map,i=(e.clamp(),[]);for(let t=0;t<n;t+=3){var o=(r[t>>>2]>>>24-t%4*8&255)<<16|(r[t+1>>>2]>>>24-(t+1)%4*8&255)<<8|r[t+2>>>2]>>>24-(t+2)%4*8&255;for(let e=0;e<4&&t+.75*e<n;e+=1)i.push(s.charAt(o>>>6*(3-e)&63))}var t=s.charAt(64);if(t)for(;i.length%4;)i.push(t);return i.join("")}parse(e){let t=e.length;var r=this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let e=0;e<r.length;e+=1)n[r.charCodeAt(e)]=e}var s=r.charAt(64);return s&&-1!==(s=e.indexOf(s))&&(t=s),((t,r,n)=>{var s,i,o=[];let a=0;for(let e=0;e<r;e+=1)e%4&&(s=n[t.charCodeAt(e-1)]<<e%4*2,i=n[t.charCodeAt(e)]>>>6-e%4*2,o[a>>>2]|=(s|i)<<24-a%4*8,a+=1);return w.create(o,a)})(e,t,n)}},H=new j,C=(()=>{var t=[];for(let e=0;e<64;e+=1)t[e]=4294967296*Math.abs(Math.sin(e+1))|0;return t})(),M=(e,t,r,n,s,i,o)=>{e=e+(t&r|~t&n)+s+o;return(e<<i|e>>>32-i)+t},z=(e,t,r,n,s,i,o)=>{e=e+(t&n|r&~n)+s+o;return(e<<i|e>>>32-i)+t},E=(e,t,r,n,s,i,o)=>{e=e+(t^r^n)+s+o;return(e<<i|e>>>32-i)+t},P=(e,t,r,n,s,i,o)=>{e=e+(r^(t|~n))+s+o;return(e<<i|e>>>32-i)+t};var K=class extends T{_doReset(){this._hash=new w([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(t,r){var n=t;for(let e=0;e<16;e+=1){var s=r+e,i=t[s];n[s]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var e=this._hash.words,o=n[r+0],a=n[r+1],c=n[r+2],l=n[r+3],h=n[r+4],u=n[r+5],d=n[r+6],p=n[r+7],w=n[r+8],g=n[r+9],f=n[r+10],y=n[r+11],_=n[r+12],v=n[r+13],m=n[r+14],k=n[r+15],S=e[0],B=e[1],b=e[2],x=e[3],S=M(S,B,b,x,o,7,C[0]),x=M(x,S,B,b,a,12,C[1]),b=M(b,x,S,B,c,17,C[2]),B=M(B,b,x,S,l,22,C[3]);S=M(S,B,b,x,h,7,C[4]),x=M(x,S,B,b,u,12,C[5]),b=M(b,x,S,B,d,17,C[6]),B=M(B,b,x,S,p,22,C[7]),S=M(S,B,b,x,w,7,C[8]),x=M(x,S,B,b,g,12,C[9]),b=M(b,x,S,B,f,17,C[10]),B=M(B,b,x,S,y,22,C[11]),S=M(S,B,b,x,_,7,C[12]),x=M(x,S,B,b,v,12,C[13]),b=M(b,x,S,B,m,17,C[14]),B=M(B,b,x,S,k,22,C[15]),S=z(S,B,b,x,a,5,C[16]),x=z(x,S,B,b,d,9,C[17]),b=z(b,x,S,B,y,14,C[18]),B=z(B,b,x,S,o,20,C[19]),S=z(S,B,b,x,u,5,C[20]),x=z(x,S,B,b,f,9,C[21]),b=z(b,x,S,B,k,14,C[22]),B=z(B,b,x,S,h,20,C[23]),S=z(S,B,b,x,g,5,C[24]),x=z(x,S,B,b,m,9,C[25]),b=z(b,x,S,B,l,14,C[26]),B=z(B,b,x,S,w,20,C[27]),S=z(S,B,b,x,v,5,C[28]),x=z(x,S,B,b,c,9,C[29]),b=z(b,x,S,B,p,14,C[30]),B=z(B,b,x,S,_,20,C[31]),S=E(S,B,b,x,u,4,C[32]),x=E(x,S,B,b,w,11,C[33]),b=E(b,x,S,B,y,16,C[34]),B=E(B,b,x,S,m,23,C[35]),S=E(S,B,b,x,a,4,C[36]),x=E(x,S,B,b,h,11,C[37]),b=E(b,x,S,B,p,16,C[38]),B=E(B,b,x,S,f,23,C[39]),S=E(S,B,b,x,v,4,C[40]),x=E(x,S,B,b,o,11,C[41]),b=E(b,x,S,B,l,16,C[42]),B=E(B,b,x,S,d,23,C[43]),S=E(S,B,b,x,g,4,C[44]),x=E(x,S,B,b,_,11,C[45]),b=E(b,x,S,B,k,16,C[46]),B=E(B,b,x,S,c,23,C[47]),S=P(S,B,b,x,o,6,C[48]),x=P(x,S,B,b,p,10,C[49]),b=P(b,x,S,B,m,15,C[50]),B=P(B,b,x,S,u,21,C[51]),S=P(S,B,b,x,_,6,C[52]),x=P(x,S,B,b,l,10,C[53]),b=P(b,x,S,B,f,15,C[54]),B=P(B,b,x,S,a,21,C[55]),S=P(S,B,b,x,w,6,C[56]),x=P(x,S,B,b,k,10,C[57]),b=P(b,x,S,B,d,15,C[58]),B=P(B,b,x,S,v,21,C[59]),S=P(S,B,b,x,h,6,C[60]),x=P(x,S,B,b,y,10,C[61]),b=P(b,x,S,B,c,15,C[62]),B=P(B,b,x,S,g,21,C[63]),e[0]=e[0]+S|0,e[1]=e[1]+B|0,e[2]=e[2]+b|0,e[3]=e[3]+x|0}_doFinalize(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes,s=(t[n>>>5]|=128<<24-n%32,Math.floor(r/4294967296)),s=(t[15+(64+n>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t[14+(64+n>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),i=s.words;for(let e=0;e<4;e+=1){var o=i[e];i[e]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return s}clone(){var e=super.clone.call(this);return e._hash=this._hash.clone(),e}},U=class extends e{cfg;constructor(e){super(),this.cfg=Object.assign({},{keySize:4,hasher:K,iterations:1},e)}compute(e,t){let r;for(var n=this.cfg,s=new n.hasher,i=w.create(),o=i.words,{keySize:a,iterations:c}=n;o.length<a;){r&&s.update(r),r=s.update(e).finalize(t),s.reset();for(let e=1;e<c;e+=1)r=s.finalize(r),s.reset();i.concat(r)}return i.sigBytes=4*a,i}},i=class i extends I{static _ENC_XFORM_MODE=1;static _DEC_XFORM_MODE=2;static keySize=4;static ivSize=4;cfg;_xformMode;_key;blockSize=4;constructor(e,t,r){super(),this.cfg=Object.assign({},r),this._xformMode=e,this._key=t}static createEncryptor(e,t){return this.create(i._ENC_XFORM_MODE,e,t)}static createDecryptor(e,t){return this.create(i._DEC_XFORM_MODE,e,t)}static create(...e){var t,r,n;return 2<=e.length&&"number"==typeof e[0]?([n,t,r]=e,(n=new this(n,t,r)).reset(),n):new this(...e)}static _createHelper(n){let s=e=>"string"==typeof e?V:p;return{encrypt(e,t,r){return s(t).encrypt(n,e,t,r)},decrypt(e,t,r){return s(t).decrypt(n,e,t,r)}}}reset(){super.reset(),this._doReset()}process(e){return this._append(e),this._process()}finalize(e){return e&&this._append(e),this._doFinalize()}},o=class extends e{_cipher;_iv;_prevBlock;constructor(e,t){super(),this._cipher=e,this._iv=t}static createEncryptor(e,t){return this.Encryptor.create(e,t)}static createDecryptor(e,t){return this.Decryptor.create(e,t)}processBlock(e,t){}};function G(e,t,r){var n=e;let s;e=this._iv;if(e?(s=e,this._iv=void 0):s=this._prevBlock,s)for(let e=0;e<r;e+=1)n[t+e]^=s[e]}var X=class extends o{processBlock(e,t){var r=this._cipher,n=r.blockSize;G.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}},L=class extends o{processBlock(e,t){var r=this._cipher,n=r.blockSize,s=e.slice(t,t+n);r.decryptBlock(e,t),G.call(this,e,t,n),this._prevBlock=s}},l=class extends o{static Encryptor=X;static Decryptor=L};let h={pad(e,t){var t=4*t,r=t-e.sigBytes%t,n=r<<24|r<<16|r<<8|r,s=[];for(let e=0;e<r;e+=4)s.push(n);t=w.create(s,r);e.concat(t)},unpad(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},Y=class extends i{_mode;constructor(e,t,r){super(e,t,Object.assign({mode:l,padding:h},r)),this.blockSize=4}reset(){super.reset();var e=this.cfg,{iv:e,mode:t}=e;let r;this._xformMode===this.constructor._ENC_XFORM_MODE?r=t?.createEncryptor:(r=t?.createDecryptor,this._minBufferSize=1),r&&t&&(this._mode=r.call(t,this,e?.words),this._mode.__creator=r)}_doProcessBlock(e,t){this._mode?.processBlock(e,t)}_doFinalize(){let e;var t=this.cfg.padding;return this._xformMode===this.constructor._ENC_XFORM_MODE?(t&&t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t&&t.unpad(e)),e}};var u=class u extends e{ciphertext;key;iv;salt;algorithm;mode;padding;blockSize;formatter;constructor(e){super(),e&&this.mixIn(e),this.formatter||(this.formatter=d)}static create(...e){var[e]=e;return new u(e)}toString(e){e=e||this.formatter;if(e)return e.stringify(this);throw new Error("cipher params formatter required")}};let d={stringify(e){let t;var{ciphertext:e,salt:r}=e;return(t=r&&e?w.create([1398893684,1701076831]).concat(r).concat(e):e||new w).toString(H)},parse(e){let t;var e=H.parse(e),r=e.words;return 1398893684===r[0]&&1701076831===r[1]&&(t=w.create(r.slice(2,4)),r.splice(0,4),e.sigBytes-=16),u.create({ciphertext:e,salt:t})}};var p=class extends e{static cfg={format:d};static encrypt(e,t,r,n){var n=Object.assign({},this.cfg,n),s=e.createEncryptor(r,n),t=s.finalize(t),i=s.cfg;return u.create({ciphertext:t,key:r,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:s.blockSize,formatter:n.format||d})}static decrypt(e,t,r,n){n=Object.assign({},this.cfg,n),t=this._parse(t,n.format);return e.createDecryptor(r,n).finalize(t.ciphertext)}static _parse(e,t){if("string"!=typeof e)return e instanceof u?e:new u(e);if(t)return t.parse(e,this);throw new Error("Format required to parse string")}},o={execute(e,t,r,n,s){let i;i=n?"string"==typeof n?a.parse(n):n:w.random(8);let o;o=U.create(s?{keySize:t+r,hasher:s}:{keySize:t+r}).compute(e,i);n=w.create(o.words.slice(t),4*r);return o.sigBytes=4*t,u.create({key:o,iv:n,salt:i})}},V=class extends p{static cfg=Object.assign({},p.cfg,{kdf:o});static encrypt(e,t,r,n){n=Object.assign({},this.cfg,n);if(n.kdf)return r=n.kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher),n.iv=r.iv,(e=p.encrypt.call(this,e,t,r.key,n)).salt=r.salt,e;throw new Error("KDF required for password-based encryption")}static decrypt(e,t,r,n){n=Object.assign({},this.cfg,n),t=this._parse(t,n.format);if(n.kdf)return r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher),n.iv=r.iv,p.decrypt.call(this,e,t,r.key,n);throw new Error("KDF required for password-based decryption")}};let{H:J,K:Q}=(()=>{var e=[],t=[],r=e=>4294967296*(e-(0|e))|0;let n=2,s=0;for(;s<64;)(t=>{var r=Math.sqrt(t);for(let e=2;e<=r;e+=1)if(!(t%e))return!1;return!0})(n)&&(s<8&&(e[s]=r(n**.5)),t[s]=r(n**(1/3)),s+=1),n+=1;return{H:e,K:t}})(),f=[];var y,_=class extends T{_doReset(){this._hash=new w(J.slice(0))}_doProcessBlock(t,r){var e=this._hash.words;let n=e[0],s=e[1],i=e[2],o=e[3],a=e[4],c=e[5],l=e[6],h=e[7];for(let e=0;e<64;e+=1){e<16?f[e]=0|t[r+e]:(u=((u=f[e-15])<<25|u>>>7)^(u<<14|u>>>18)^u>>>3,d=((d=f[e-2])<<15|d>>>17)^(d<<13|d>>>19)^d>>>10,f[e]=u+f[e-7]+d+f[e-16]);var u=a&c^~a&l,d=n&s^n&i^s&i,p=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),w=h+w+u+Q[e]+f[e];h=l,l=c,c=a,a=o+w|0,o=i,i=s,s=n,n=w+(p+d)|0}e[0]=e[0]+n|0,e[1]=e[1]+s|0,e[2]=e[2]+i|0,e[3]=e[3]+o|0,e[4]=e[4]+a|0,e[5]=e[5]+c|0,e[6]=e[6]+l|0,e[7]=e[7]+h|0}_doFinalize(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),t[15+(64+n>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash}clone(){var e=super.clone.call(this);return e._hash=this._hash.clone(),e}};let W=t._createHelper(_),Z=class extends _{_doReset(){this._hash=new w([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){var e=super._doFinalize.call(this);return e.sigBytes-=4,e}clone(){return super.clone.call(this)}},ee=(_._createHelper(Z),_._createHmacHelper(Z),[new s(1116352408,3609767458),new s(1899447441,602891725),new s(3049323471,3964484399),new s(3921009573,2173295548),new s(961987163,4081628472),new s(1508970993,3053834265),new s(2453635748,2937671579),new s(2870763221,3664609560),new s(3624381080,2734883394),new s(310598401,1164996542),new s(607225278,1323610764),new s(1426881987,3590304994),new s(1925078388,4068182383),new s(2162078206,991336113),new s(2614888103,633803317),new s(3248222580,3479774868),new s(3835390401,2666613458),new s(4022224774,944711139),new s(264347078,2341262773),new s(604807628,2007800933),new s(770255983,1495990901),new s(1249150122,1856431235),new s(1555081692,3175218132),new s(1996064986,2198950837),new s(2554220882,3999719339),new s(2821834349,766784016),new s(2952996808,2566594879),new s(3210313671,3203337956),new s(3336571891,1034457026),new s(3584528711,2466948901),new s(113926993,3758326383),new s(338241895,168717936),new s(666307205,1188179964),new s(773529912,1546045734),new s(1294757372,1522805485),new s(1396182291,2643833823),new s(1695183700,2343527390),new s(1986661051,1014477480),new s(2177026350,1206759142),new s(2456956037,344077627),new s(2730485921,1290863460),new s(2820302411,3158454273),new s(3259730800,3505952657),new s(3345764771,106217008),new s(3516065817,3606008344),new s(3600352804,1432725776),new s(4094571909,1467031594),new s(275423344,851169720),new s(430227734,3100823752),new s(506948616,1363258195),new s(659060556,3750685593),new s(883997877,3785050280),new s(958139571,3318307427),new s(1322822218,3812723403),new s(1537002063,2003034995),new s(1747873779,3602036899),new s(1955562222,1575990012),new s(2024104815,1125592928),new s(2227730452,2716904306),new s(2361852424,442776044),new s(2428436474,593698344),new s(2756734187,3733110249),new s(3204031479,2999351573),new s(3329325298,3815920427),new s(3391569614,3928383900),new s(3515267271,566280711),new s(3940187606,3454069534),new s(4118630271,4000239992),new s(116418474,1914138554),new s(174292421,2731055270),new s(289380356,3203993006),new s(460393269,320620315),new s(685471733,587496836),new s(852142971,1086792851),new s(1017036298,365543100),new s(1126000580,2618297676),new s(1288033470,3409855158),new s(1501505948,4234509866),new s(1607167915,987167468),new s(1816402316,1246189591)]),$=(()=>{var t=[];for(let e=0;e<80;e+=1)t[e]=new s;return t})(),v=class extends q{constructor(e){super(e),this.blockSize=32}_doReset(){this._hash=new r([new s(1779033703,4089235720),new s(3144134277,2227873595),new s(1013904242,4271175723),new s(2773480762,1595750129),new s(1359893119,2917565137),new s(2600822924,725511199),new s(528734635,4215389547),new s(1541459225,327033209)])}_doProcessBlock(n,N){var e=this._hash.words,t=e[0],r=e[1],s=e[2],i=e[3],o=e[4],a=e[5],c=e[6],e=e[7],I=t.high,T=t.low,q=r.high,j=r.low,H=s.high,K=s.low,U=i.high,G=i.low,X=o.high,L=o.low,Y=a.high,V=a.low,J=c.high,Q=c.low,W=e.high,Z=e.low;let l=I,h=T,u=q,d=j,p=H,w=K,g=U,f=G,y=X,_=L,v=Y,m=V,k=J,S=Q,B=W,b=Z;for(let r=0;r<80;r+=1){let e,t;var x=$[r],C=(r<16?(x.high=0|n[N+2*r],t=x.high,x.low=0|n[N+2*r+1],e=x.low):(M=((F=(E=$[r-15]).high)>>>1|(E=E.low)<<31)^(F>>>8|E<<24)^F>>>7,E=(E>>>1|F<<31)^(E>>>8|F<<24)^(E>>>7|F<<25),P=((C=(F=$[r-2]).high)>>>19|(F=F.low)<<13)^(C<<3|F>>>29)^C>>>6,F=(F>>>19|C<<13)^(F<<3|C>>>29)^(F>>>6|C<<26),z=(C=$[r-7]).high,C=C.low,D=(A=$[r-16]).high,A=A.low,e=E+C,t=M+z+(e>>>0<E>>>0?1:0),e+=F,t=t+P+(e>>>0<F>>>0?1:0),e+=A,t=t+D+(e>>>0<A>>>0?1:0),x.high=t,x.low=e),y&v^~y&k),M=_&m^~_&S,z=l&u^l&p^u&p,E=h&d^h&w^d&w,P=(l>>>28|h<<4)^(l<<30|h>>>2)^(l<<25|h>>>7),F=(h>>>28|l<<4)^(h<<30|l>>>2)^(h<<25|l>>>7),D=(y>>>14|_<<18)^(y>>>18|_<<14)^(y<<23|_>>>9),A=(_>>>14|y<<18)^(_>>>18|y<<14)^(_<<23|y>>>9),x=ee[r],O=x.high,x=x.low,R=b+A,x=(O=B+D+(R>>>0<b>>>0?1:0)+C+((R+=M)>>>0<M>>>0?1:0)+O+((R+=x)>>>0<x>>>0?1:0),R+=e,O=O+t+(R>>>0<e>>>0?1:0),F+E);B=k,b=S,k=v,S=m,v=y,m=_,_=f+R|0,y=g+O+(_>>>0<f>>>0?1:0)|0,g=p,f=w,p=u,w=d,u=l,d=h,h=R+x|0,l=O+(P+z+(x>>>0<F>>>0?1:0))+(h>>>0<R>>>0?1:0)|0}t.low=T+h,t.high=I+l+(t.low>>>0<h>>>0?1:0),r.low=j+d,r.high=q+u+(r.low>>>0<d>>>0?1:0),s.low=K+w,s.high=H+p+(s.low>>>0<w>>>0?1:0),i.low=G+f,i.high=U+g+(i.low>>>0<f>>>0?1:0),o.low=L+_,o.high=X+y+(o.low>>>0<_>>>0?1:0),a.low=V+m,a.high=Y+v+(a.low>>>0<m>>>0?1:0),c.low=Q+S,c.high=J+k+(c.low>>>0<S>>>0?1:0),e.low=Z+b,e.high=W+B+(e.low>>>0<b>>>0?1:0)}_doFinalize(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes,n=(t[n>>>5]|=128<<24-n%32,t[30+(128+n>>>10<<5)]=Math.floor(r/4294967296),t[31+(128+n>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32());return n}clone(){var e=super.clone.call(this);return e._hash=this._hash.clone(),e}},te=class extends v{_doReset(){this._hash=new r([new s(3418070365,3238371032),new s(1654270250,914150663),new s(2438529370,812702999),new s(355462360,4144912697),new s(1731405415,4290775857),new s(2394180231,1750603025),new s(3675008525,1694076839),new s(1203062813,3204075428)])}_doFinalize(){var e=super._doFinalize.call(this);return e.sigBytes-=16,e}clone(){return super.clone.call(this)}},re=(v._createHelper(te),v._createHmacHelper(te),[]);{let t=1,r=0;for(let e=0;e<24;e+=1){re[t+5*r]=(e+1)*(e+2)/2%64;var ne=r%5,se=(2*t+3*r)%5;t=ne,r=se}let n=1;for(let e=0;e<24;e+=1){let t=0,r=0;for(let e=0;e<7;e+=1)1&n&&((y=(1<<e)-1)<32?r^=1<<y:t^=1<<y-32),128&n?n=n<<1^113:n<<=1;s.create(t,r)}}for(let e=0;e<25;e+=1)e,s.create();w.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),w.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),w.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w.create([0,1518500249,1859775393,2400959708,2840853838]),w.create([1352829926,1548603684,1836072691,2053994217,0]);var ie=class extends e{cfg;constructor(e){super(),this.cfg=Object.assign({},{keySize:4,hasher:_,iterations:25e4},e)}compute(e,r){for(var t=this.cfg,n=g.create(t.hasher,e),s=w.create(),i=w.create([1]),o=s.words,a=i.words,{keySize:c,iterations:l}=t;o.length<c;){var h=n.update(r).finalize(i),u=(n.reset(),h.words),d=u.length;let t=h;for(let e=1;e<l;e+=1){t=n.finalize(t),n.reset();var p=t.words;for(let e=0;e<d;e+=1)u[e]^=p[e]}s.concat(h),a[0]+=1}return s.sigBytes=4*c,s}};let oe=(e,t,r)=>new ie(r).compute(e,t),m=[],ae=[],ce=[],le=[],he=[],ue=[],k=[],S=[],B=[],b=[];{var x=[];for(let e=0;e<256;e+=1)e<128?x[e]=e<<1:x[e]=e<<1^283;let t=0,r=0;for(let e=0;e<256;e+=1){var F=(F=r^r<<1^r<<2^r<<3^r<<4)>>>8^255&F^99,D=(m[t]=F,x[ae[F]=t]),de=x[D],pe=x[de],A=257*x[F]^16843008*F;ce[t]=A<<24|A>>>8,le[t]=A<<16|A>>>16,he[t]=A<<8|A>>>24,ue[t]=A,A=16843009*pe^65537*de^257*D^16843008*t,k[F]=A<<24|A>>>8,S[F]=A<<16|A>>>16,B[F]=A<<8|A>>>24,b[F]=A,t?(t=D^x[x[x[pe^D]]],r^=x[x[r]]):(r=1,t=r)}}let we=[0,1,2,4,8,16,32,64,128,27,54],ge=class extends Y{_nRounds;_keyPriorReset;_keySchedule;_invKeySchedule;static keySize=8;_doReset(){let t;if(!this._nRounds||this._keyPriorReset!==this._key){this._keyPriorReset=this._key;var e=this._keyPriorReset,r=e.words,n=e.sigBytes/4,e=(this._nRounds=6+n,this._nRounds),s=4*(e+1),i=(this._keySchedule=[],this._keySchedule);for(let e=0;e<s;e+=1)e<n?i[e]=r[e]:(t=i[e-1],e%n?6<n&&e%n==4&&(t=m[t>>>24]<<24|m[t>>>16&255]<<16|m[t>>>8&255]<<8|m[255&t]):(t=t<<8|t>>>24,t=m[t>>>24]<<24|m[t>>>16&255]<<16|m[t>>>8&255]<<8|m[255&t],t^=we[e/n|0]<<24),i[e]=i[e-n]^t);this._invKeySchedule=[];var o=this._invKeySchedule;for(let e=0;e<s;e+=1){var a=s-e;t=e%4?i[a]:i[a-4],e<4||a<=4?o[e]=t:o[e]=k[m[t>>>24]]^S[m[t>>>16&255]]^B[m[t>>>8&255]]^b[m[255&t]]}}}encryptBlock(e,t){this._doCryptBlock(e,t,this._keySchedule,ce,le,he,ue,m)}decryptBlock(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,k,S,B,b,ae),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r}_doCryptBlock(e,t,r,n,s,i,o,a){var c=this._nRounds;let l=e[t]^r[0],h=e[t+1]^r[1],u=e[t+2]^r[2],d=e[t+3]^r[3],p=4;for(let e=1;e<c;e+=1){var w=n[l>>>24]^s[h>>>16&255]^i[u>>>8&255]^o[255&d]^r[p],g=(p+=1,n[h>>>24]^s[u>>>16&255]^i[d>>>8&255]^o[255&l]^r[p]),f=(p+=1,n[u>>>24]^s[d>>>16&255]^i[l>>>8&255]^o[255&h]^r[p]),y=(p+=1,n[d>>>24]^s[l>>>16&255]^i[h>>>8&255]^o[255&u]^r[p]);p+=1,l=w,h=g,u=f,d=y}var _=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^r[p],v=(p+=1,(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^r[p]),m=(p+=1,(a[u>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p]),a=(p+=1,(a[d>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p]);p+=1,e[t]=_,e[t+1]=v,e[t+2]=m,e[t+3]=a}},fe=Y._createHelper(ge);var O={CONFIG:{keySalt:"PEANUT_1.0",keySize:8,iterations:81073,saltSize:16,ivSize:16},hash:function(e){return W(e+this.CONFIG.keySalt).toString()},encrypt:function(e,t){var r=w.random(this.CONFIG.saltSize),n=w.random(this.CONFIG.ivSize),t=oe(t,r,{keySize:this.CONFIG.keySize,iterations:this.CONFIG.iterations}),e=fe.encrypt(e,t,{iv:n,mode:l,padding:h});return r.toString()+n.toString()+e.toString()},decrypt:function(e,t){var r=a.parse(e.substring(0,32)),n=a.parse(e.substring(32,64)),e=e.substring(64),t=oe(t,r,{keySize:this.CONFIG.keySize,iterations:this.CONFIG.iterations});return fe.decrypt(e,t,{iv:n,mode:l,padding:h}).toString(c)}};tinymce.PluginManager.add("peanut",function(s,e){function r(e){var t;return e&&(t=new RegExp("^".concat(c,"(.*?)").concat(l),"s"),e=e.trim().match(t))?e[1]:null}function t(e){function t(){return e.setActive(u())}return s.on("NodeChange",t),t(),function(){return s.off("NodeChange",t)}}function n(){0===v||_||(_=!0,setTimeout(function(){return _=!1},500),clearTimeout(f),f=setTimeout(k,v))}function i(e){"Escape"==e.key&&k()}var o,a="",c="\x3c!--PEANUT_1.0_ENCRYPTED_TINYMCE--\x3e",l="\x3c!--/PEANUT_1.0_ENCRYPTED_TINYMCE--\x3e",h=(s.ui.registry.addIcon("peanut-svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 256 256"><path d="M229.296 43.824c-18.105-20.58-42.135-26.22-69.48-16.275l4.32 11.88-4.32-11.88q-3.795 1.395-7.485 3.075c-23.325 10.62-33.87 31.065-41.58 45.99-2.295 4.44-5.4 10.485-7.11 12.09-4.8 2.235-9.36 4.005-14.19 5.88-12.51 4.845-25.455 9.87-42.18 22.83-23.025 17.835-34.29 40.29-34.47 68.67-.09 15.435 6.405 28.635 18.315 37.185 11.865 8.52 33.975 15.945 72.015 2.865l1.71-.6c33.18-12.045 47.805-36.93 55.665-50.295 1.59-2.7 3.39-5.775 4.245-6.735 2.655-3 9.33-6.57 17.79-11.085 8.205-4.38 18.42-9.825 30.705-17.7a64.05 64.05 0 0 0 29.265-45.615c2.64-18.735-2.43-38.01-13.215-50.28m-22.86 85.245c-26.745 17.13-43.665 22.59-51.15 31.065-7.38 8.37-17.475 39.99-54.765 53.52l-1.5.525c-48.675 16.725-73.74-2.025-73.59-28.02.15-23.025 8.58-42.495 29.565-58.77 21.675-16.8 36.345-18.96 54.39-27.45 12.15-5.7 16.83-43.575 48.15-57.84q3.24-1.485 6.57-2.7c27.48-9.99 44.775.345 55.68 12.75 14.73 16.74 17.805 56.94-13.365 76.905"/><path d="M195.906 71.064a3.976 3.976 0 0 0 6.93 3.9 75 75 0 0 0 4.125-8.55 3.975 3.975 0 0 0-7.35-3.03q-.39.975-1.275 2.925-1.125 2.43-2.445 4.755M104 160.389a3.97 3.97 0 0 0 5.61.375c4.83-4.215 9.63-8.505 14.31-12.735a3.972 3.972 0 1 0-5.325-5.895 1065 1065 0 0 1-14.22 12.645 3.975 3.975 0 0 0-.375 5.61m46.005-46.365c-4.47 3.78-9.315 8.1-14.43 12.705a3.972 3.972 0 1 0 5.325 5.895c5.085-4.59 9.87-8.85 14.235-12.54a3.975 3.975 0 0 0-5.13-6.06m-63.045 55.35c-5.175 4.11-10.245 7.89-15.105 11.175a3.975 3.975 0 0 0 4.455 6.585c5.085-3.435 10.305-7.335 15.6-11.535a3.972 3.972 0 1 0-4.935-6.225m95.775-80.94c-3.84 3.9-8.46 7.89-14.04 11.715a3.96 3.96 0 0 0-1.035 5.52 3.96 3.96 0 0 0 5.52 1.035 105 105 0 0 0 15.21-12.705 3.962 3.962 0 1 0-5.655-5.55M52.716 190.989l-.24.09a30 30 0 0 1-7.515 1.845 3.971 3.971 0 1 0 .765 7.905q4.59-.48 9.465-2.28l.27-.105a3.975 3.975 0 0 0-2.745-7.455m57.81-3.03q-1.56 1.245-3.18 2.385-4.05 2.835-8.37 5.19a3.435 3.435 0 0 0 3.285 6.015 90 90 0 0 0 9.015-5.595q1.815-1.275 3.54-2.67a3.435 3.435 0 1 0-4.305-5.34M83 202.359a90 90 0 0 1-13.56 3.21 3.428 3.428 0 1 0 1.11 6.765 105 105 0 0 0 14.535-3.45 3.435 3.435 0 1 0-2.07-6.54m52.365-39.33a3.45 3.45 0 0 0-4.725 1.08 120 120 0 0 1-8.07 11.52 3.435 3.435 0 0 0 5.37 4.26 135 135 0 0 0 8.505-12.135 3.45 3.45 0 0 0-1.08-4.725m14.79-26.235a28.5 28.5 0 0 0-7.23 6.615 75 75 0 0 0-3.24 5.205 3.45 3.45 0 0 0 1.245 4.68 3.45 3.45 0 0 0 4.695-1.245c1.095-1.905 2.085-3.525 2.925-4.71.96-1.395 2.85-3.105 5.475-4.875a3.45 3.45 0 0 0-3.87-5.67m53.175-34.32c-2.4 3.435-5.43 6.645-9.27 9.33l-.015.015a3.43 3.43 0 1 0 3.945 5.61l.015-.015c4.56-3.195 8.145-7.005 10.95-11.01a3.435 3.435 0 0 0-5.61-3.945m12.435-32.085a3.45 3.45 0 0 0-3.42 3.45c0 .165-.03 6-2.04 13.365a3.435 3.435 0 0 0 6.615 1.815c2.325-8.475 2.28-15 2.295-15.21a3.45 3.45 0 0 0-3.45-3.405m-36.81 50.655c-4.335 2.385-8.64 4.59-12.705 6.675a3.45 3.45 0 0 0-1.485 4.62 3.45 3.45 0 0 0 4.62 1.47c4.05-2.085 8.415-4.32 12.87-6.765a3.435 3.435 0 0 0-3.3-6.015M164.99 59.259a3.96 3.96 0 0 0-5.61.03 90 90 0 0 0-11.64 14.835 3.98 3.98 0 0 0 6.705 4.29c3.06-4.8 6.54-9.42 10.605-13.53a3.975 3.975 0 0 0-.03-5.625m16.395-5.985a54 54 0 0 1 14.34-4.23 3.99 3.99 0 0 0-1.23-7.86 64.5 64.5 0 0 0-16.395 4.86 3.99 3.99 0 0 0-1.98 5.265 3.95 3.95 0 0 0 5.25 1.965m-46.29 60.15c3.225-4.395 5.985-10.095 9.12-16.365a3.975 3.975 0 0 0-7.11-3.54c-3.12 6.285-5.85 11.745-8.4 15.195a3.975 3.975 0 0 0 6.39 4.71m-83.895 55.635a3.973 3.973 0 1 0-5.91-5.31c-4.8 5.355-8.55 10.77-10.59 16.35a3.975 3.975 0 0 0 7.47 2.7c1.47-4.125 4.635-8.865 9.015-13.74m48.06-35.85c5.745-3.255 11.16-6.045 15.765-8.22a3.975 3.975 0 0 0-3.375-7.185c-4.83 2.265-10.395 5.145-16.305 8.49a3.975 3.975 0 0 0 3.915 6.915m-18.21 11.22a3.975 3.975 0 0 0-4.41-6.615c-5.1 3.42-10.14 7.05-14.88 10.8a3.975 3.975 0 0 0 4.935 6.225c4.545-3.6 9.42-7.11 14.37-10.425"/></svg>'),function(){return"false"===s.getBody().getAttribute("contenteditable")}),u=function(){return 0<a.length},d=function(e){var t=s.getBody();t&&t.setAttribute("contenteditable",e?"true":"false")},p=(s.on("BeforeExecCommand",function(e){h()&&"peanut_cmd"!==e.command&&(e.preventDefault(),e.stopImmediatePropagation())}),function(e,t){s.windowManager.open({title:e,body:{type:"panel",items:[{type:"input",name:"pw",placeholder:"Enter password..."}]},buttons:[{type:"cancel",text:"Cancel"},{type:"submit",text:"Confirm",primary:!0}],onSubmit:function(e){t(e.getData().pw),e.close()},onCancel:function(){return t(null)}}),requestAnimationFrame(function(){var e=document.querySelectorAll(".tox-textfield");e[e.length-1].setAttribute("type","password")})}),w=(s.addCommand("peanut_cmd",function(){h()?g():u()?s.windowManager.confirm("Are you sure you want to remove encryption? The content will be saved as plain text.",function(e){e&&p("üîí Enter Peanut Security Password",function(e){null!==e&&(e&&O.hash(e)===a?(a="",s.setDirty(!0),s.nodeChanged(),m(!1),b(!1),requestAnimationFrame(function(){return s.windowManager.alert("‚ö†Ô∏è Encryption removed. Content will be saved as plain text.")})):s.notificationManager.open({text:"Incorrect password. Cannot remove encryption.",type:"warning",timeout:3e3}))})}):p("üîë Set Peanut Security Password",function(t){null!==t&&(t?p("üîë Re-enter Peanut Security Password",function(e){null===e?s.notificationManager.open({text:"Password setup cancelled. The content will not be saved as encrypted string.",type:"info",timeout:3e3}):e===t?(a=O.hash(e),s.notificationManager.open({text:"Password set successfully. The content will be saved as encrypted (AES-256) string.",type:"success",timeout:3e3}),s.setDirty(!0),s.nodeChanged(),m(!0),b(!0)):requestAnimationFrame(function(){return s.windowManager.alert("‚ö†Ô∏è Passwords do not match. The content will not be saved as encrypted string. Please try again.")})}):s.notificationManager.open({text:"Please set a valid password and try again.",type:"warning",timeout:2e3}))})}),s.ui.registry.addToggleButton("peanut",{tooltip:"Peanut security",icon:"peanut-svg",onAction:function(){return s.execCommand("peanut_cmd")},onSetup:t}),s.ui.registry.addToggleMenuItem("peanut",{text:"Peanut security",icon:"peanut-svg",onAction:function(){return s.execCommand("peanut_cmd")},onSetup:t}),s.ui.registry.addMenuItem("peanut_change_pw",{text:"Change password",icon:"reload",onAction:function(){p("üîí Enter Current Peanut Security Password",function(e){null!==e&&(e&&O.hash(e)===a?p("üîë Enter New Password",function(t){null===t?s.notificationManager.open({text:"Password change cancelled.",type:"info",timeout:3e3}):t?t===e?s.notificationManager.open({text:"The new password is the same as the current one. No changes made.",type:"info",timeout:3e3}):p("üîë Re-enter New Password",function(e){null===e?s.notificationManager.open({text:"Password change cancelled.",type:"info",timeout:3e3}):e===t?(a=O.hash(e),s.setDirty(!0),s.notificationManager.open({text:"Password updated successfully.",type:"success",timeout:3e3})):requestAnimationFrame(function(){return s.windowManager.alert("‚ö†Ô∏è New passwords do not match. Please try again.")})}):s.notificationManager.open({text:"Please set a valid password and try again.",type:"warning",timeout:2e3})}):s.notificationManager.open({text:"Incorrect password. Please try again.",type:"warning",timeout:2e3}))})},onSetup:function(e){function t(){return e.setEnabled(u())}return s.on("NodeChange",t),t(),function(){return s.off("NodeChange",t)}}}),!1),g=(s.on("SaveContent",function(e){u()&&e.content&&(w=!0)}),s.on("PostProcess",function(e){var t;w&&(r(e.content)||(t=O.encrypt(e.content,a).toString(),e.content="".concat(c).concat(t).concat(l)),w=!1)}),function(){var e=document.getElementById(s.id),e=e?e.value.trim():"",n=r(e);null!==n&&(n.length<=64?(s.mode.set("readonly"),s.setContent('<p style="color: red;"><strong>Corrupted Peanut Security Encryption Data.</strong></p>'),s.undoManager.clear(),s.nodeChanged()):p("üîí Peanut Security: Decrypt Content",function(e){if(e){var t=null,r=O.hash(e);try{t=O.decrypt(n,r)}catch(e){console.log("Peanut Security Decryption Failed: "+e)}t?(a=r,d(!0),s.setContent(t),s.setDirty(!1),m(!0),b(!0)):(d(!1),s.setContent('<p style="color: red;"><strong>Decryption Failed:</strong> Incorrect password. Click the Peanut button to try again.</p>'))}else d(!1),null===e?s.setContent('<p style="color: red;"><strong>Decryption Cancelled.</strong> Click the Peanut button to try again.</p>'):s.setContent('<p style="color: red;"><strong>Decryption Failed:</strong> Invalid password. Click the Peanut button to try again.</p>');s.undoManager.clear(),s.nodeChanged()}))}),f=null,y="",_=!1,v=(s.options.register("peanut_timeout_sec",{processor:"number",default:480}),0<(o=s.options.get("peanut_timeout_sec"))?1e3*o:0),m=function(e){var t;0!==v&&(t=["mousemove","scroll","touchstart","keydown","click"],e?(t.forEach(function(e){s.on(e,n),document.body.addEventListener(e,n)}),n()):(clearTimeout(f),t.forEach(function(e){s.off(e,n),document.body.removeEventListener(e,n)})))},k=function(){u()&&!h()&&(m(!1),b(!1),y=s.getBody().innerHTML,d(!1),s.setContent('<p style="color: darkgoldenrod;"><strong>Content is locked.</strong> Enter password to continue or refresh to lose unsaved changes.</p>'),s.nodeChanged(),S())},S=function(){p("üîí Peanut Security: Unlock Content",function(e){null===e?requestAnimationFrame(function(){return s.windowManager.alert("‚ö†Ô∏è You need to unlock to continue editing.",S)}):e&&O.hash(e)===a?(d(!0),s.setContent(y),m(!(y="")),b(!0)):requestAnimationFrame(function(){return s.windowManager.alert("‚ö†Ô∏è Incorrect password. Please try again.",S)})})},B=(s.options.register("peanut_esc_lock",{processor:"boolean",default:!0}),s.options.get("peanut_esc_lock")),b=function(e){B&&(e?(s.on("keyup",i),document.body.addEventListener("keyup",i)):(s.off("keyup",i),document.body.removeEventListener("keyup",i)))};s.on("init",g),s.on("remove",function(){m(!1),b(!1)})})})();